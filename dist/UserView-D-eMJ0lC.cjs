"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),_=require("vue-router"),N=require("./axios-tuVKNgv9.cjs"),c=require("./types-D9XxK5BT.cjs"),p=require("./moment-Bp7fbP4q.cjs");function V(u){const o=e.ref(!1),t=e.ref(),n=e.ref({id:0,user_name:"",first_name:"",last_name:"",full_name:"",email:"",avatar:"",flag_enabled:!1,flag_verified:!1,group_id:null,locale:"",created_at:"",updated_at:"",deleted_at:null,locale_name:"",group:null});async function r(){o.value=!0,t.value=null,await N.axios.get("/api/users/u/"+u.params.user_name).then(a=>{n.value=a.data}).catch(a=>{t.value={description:"An error as occurred",style:c.a.Danger,...a.response.data}}).finally(()=>{o.value=!1})}return e.watch(()=>u.params.user_name,()=>{r()},{immediate:!0}),{user:n,error:t,loading:o}}const f={class:"uk-text-center uk-margin"},C=["src"],k={class:"uk-text-center uk-margin-remove"},x={key:0,class:"uk-margin-remove uk-text-meta","data-test":"meta"},v={class:"uk-description-list"},g={class:"uk-text-meta"},U={key:0,class:"uk-text-meta"},w={key:1,class:"uk-text-meta"},S={class:"uk-text-meta"},y={class:"uk-text-meta"},E={class:"uk-text-meta"},B=e.defineComponent({__name:"UserInfo",props:{user:{}},setup(u){return(o,t)=>{const n=e.resolveComponent("font-awesome-icon"),r=e.resolveComponent("UFLabel"),a=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(a,null,{default:e.withCtx(()=>[e.createElementVNode("div",f,[e.createElementVNode("img",{src:o.user.avatar,alt:"avatar",class:"uk-border-circle"},null,8,C),e.createElementVNode("h3",k,e.toDisplayString(o.user.full_name),1),o.user.user_name?(e.openBlock(),e.createElementBlock("p",x," ("+e.toDisplayString(o.user.user_name)+") ",1)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"default",{dataTest:"slot"})]),t[9]||(t[9]=e.createElementVNode("hr",null,null,-1)),e.createElementVNode("dl",v,[e.createElementVNode("dt",null,[e.createVNode(n,{icon:"envelope"}),t[0]||(t[0]=e.createTextVNode(" Email"))]),e.createElementVNode("dd",g,e.toDisplayString(o.user.email),1),e.createElementVNode("dt",null,[e.createVNode(n,{icon:"users"}),t[1]||(t[1]=e.createTextVNode(" Group"))]),o.user.group?(e.openBlock(),e.createElementBlock("dd",U,e.toDisplayString(o.user.group.name),1)):(e.openBlock(),e.createElementBlock("dd",w,t[2]||(t[2]=[e.createElementVNode("i",null,"None",-1)]))),e.createElementVNode("dt",null,[e.createVNode(n,{icon:"language"}),t[3]||(t[3]=e.createTextVNode(" Locale"))]),e.createElementVNode("dd",S,e.toDisplayString(o.user.locale_name),1),e.createElementVNode("dt",null,[e.createVNode(n,{icon:"user-shield"}),t[4]||(t[4]=e.createTextVNode(" Status"))]),e.createElementVNode("dd",y,[o.user.flag_enabled==!1?(e.openBlock(),e.createBlock(r,{key:0,severity:e.unref(c.a).Danger},{default:e.withCtx(()=>t[5]||(t[5]=[e.createTextVNode(" Disabled ")])),_:1},8,["severity"])):o.user.flag_verified==!1?(e.openBlock(),e.createBlock(r,{key:1,severity:e.unref(c.a).Warning},{default:e.withCtx(()=>t[6]||(t[6]=[e.createTextVNode(" Unactivated ")])),_:1},8,["severity"])):(e.openBlock(),e.createBlock(r,{key:2,severity:e.unref(c.a).Success},{default:e.withCtx(()=>t[7]||(t[7]=[e.createTextVNode("Active")])),_:1},8,["severity"]))]),e.createElementVNode("dt",null,[e.createVNode(n,{icon:"calendar"}),t[8]||(t[8]=e.createTextVNode(" Created on"))]),e.createElementVNode("dd",E,e.toDisplayString(e.unref(p.hooks)(o.user.created_at).format("MMMM Do, YYYY")),1)]),t[10]||(t[10]=e.createElementVNode("hr",null,null,-1)),t[11]||(t[11]=e.createElementVNode("button",{class:"uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom uk-button-small"}," Edit User ",-1)),t[12]||(t[12]=e.createElementVNode("button",{class:"uk-button uk-button-danger uk-width-1-1 uk-margin-small-bottom uk-button-small"}," Delete User ",-1)),e.renderSlot(o.$slots,"default",{dataTest:"slot"})]),_:3})}}}),F=e.defineComponent({__name:"UserActivities",props:{user_name:{}},setup(u){return(o,t)=>{const n=e.resolveComponent("UFSprunjeHeader"),r=e.resolveComponent("UFSprunjeColumn"),a=e.resolveComponent("UFSprunjeTable"),s=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(s,{title:"Activities"},{default:e.withCtx(()=>[e.createVNode(a,{dataUrl:"/api/users/u/"+o.user_name+"/activities",defaultSorts:{occurred_at:"desc"}},{header:e.withCtx(()=>[e.createVNode(n,{sort:"occurred_at"},{default:e.withCtx(()=>t[0]||(t[0]=[e.createTextVNode("Activity Time")])),_:1}),e.createVNode(n,{sort:"description"},{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("Description")])),_:1})]),body:e.withCtx(({item:l})=>[e.createVNode(r,null,{default:e.withCtx(()=>[e.createElementVNode("div",null,e.toDisplayString(e.unref(p.hooks)(l.occurred_at).format("dddd")),1),e.createElementVNode("div",null,e.toDisplayString(e.unref(p.hooks)(l.occurred_at).format("MMM Do, YYYY h:mm a")),1)]),_:2},1024),e.createVNode(r,null,{default:e.withCtx(()=>[e.createElementVNode("div",null,e.toDisplayString(l.ip_address),1),e.createElementVNode("div",null,[e.createElementVNode("i",null,e.toDisplayString(l.description),1)])]),_:2},1024)]),_:1},8,["dataUrl"])]),_:1})}}}),h={class:"uk-button uk-button-default"},b={class:"uk-button uk-button-danger uk-button-small"},T=e.defineComponent({__name:"UserRoles",props:{slug:{}},setup(u){return(o,t)=>{const n=e.resolveComponent("font-awesome-icon"),r=e.resolveComponent("UFSprunjeHeader"),a=e.resolveComponent("RouterLink"),s=e.resolveComponent("UFSprunjeColumn"),l=e.resolveComponent("UFSprunjeTable"),i=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(i,{title:"Roles"},{default:e.withCtx(()=>[e.createVNode(l,{dataUrl:"/api/users/u/"+o.slug+"/roles",searchColumn:"name",hideFilters:""},{actions:e.withCtx(()=>[e.createElementVNode("button",h,[e.createVNode(n,{icon:"address-card"}),t[0]||(t[0]=e.createTextVNode(" Add role "))])]),header:e.withCtx(()=>[e.createVNode(r,{sort:"name"},{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("Role")])),_:1}),e.createVNode(r,{sort:"description"},{default:e.withCtx(()=>t[2]||(t[2]=[e.createTextVNode("Description")])),_:1}),e.createVNode(r,{sort:"description"},{default:e.withCtx(()=>t[3]||(t[3]=[e.createTextVNode("Actions")])),_:1})]),body:e.withCtx(({item:d})=>[e.createVNode(s,null,{default:e.withCtx(()=>[e.createElementVNode("strong",null,[e.createVNode(a,{to:{name:"admin.role",params:{slug:d.slug}}},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(d.name),1)]),_:2},1032,["to"])])]),_:2},1024),e.createVNode(s,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(d.description),1)]),_:2},1024),e.createVNode(s,null,{default:e.withCtx(()=>[e.createElementVNode("button",b,[e.createVNode(n,{icon:"trash"})])]),_:1})]),_:1},8,["dataUrl"])]),_:1})}}}),D=e.defineComponent({__name:"UserPermissions",props:{user_name:{}},setup(u){return(o,t)=>{const n=e.resolveComponent("UFSprunjeHeader"),r=e.resolveComponent("RouterLink"),a=e.resolveComponent("UFSprunjeColumn"),s=e.resolveComponent("UFLabel"),l=e.resolveComponent("UFSprunjeTable"),i=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(i,{title:"Permissions"},{default:e.withCtx(()=>[e.createVNode(l,{dataUrl:"/api/users/u/"+o.user_name+"/permissions",searchColumn:"name"},{header:e.withCtx(()=>[e.createVNode(n,{sort:"name"},{default:e.withCtx(()=>t[0]||(t[0]=[e.createTextVNode("Permission")])),_:1}),e.createVNode(n,{sort:"properties"},{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("Slug/Condition")])),_:1}),e.createVNode(n,null,{default:e.withCtx(()=>t[2]||(t[2]=[e.createTextVNode("Has permission via roles")])),_:1})]),body:e.withCtx(({item:d})=>[e.createVNode(a,null,{default:e.withCtx(()=>[e.createElementVNode("strong",null,[e.createVNode(r,{to:{name:"admin.permission",params:{id:d.id}}},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(d.name),1)]),_:2},1032,["to"])])]),_:2},1024),e.createVNode(a,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(d.description),1)]),_:2},1024),e.createVNode(a,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.roles_via,m=>(e.openBlock(),e.createBlock(r,{key:m.id,to:{name:"admin.role",params:{slug:m.slug}}},{default:e.withCtx(()=>[e.createVNode(s,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(m.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)]),_:1},8,["dataUrl"])]),_:1})}}}),j={"uk-grid":""},$={class:"uk-width-1-3"},A={class:"uk-width-2-3"},L={class:"uk-child-width-1-1","uk-grid":""},H=e.defineComponent({__name:"UserView",setup(u){const o=_.useRoute(),{user:t,error:n}=V(o);return(r,a)=>{const s=e.resolveComponent("UFHeaderPage"),l=e.resolveComponent("UFAlert"),i=e.resolveComponent("UFCardBox");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(s,{title:"User details",caption:"User information page"}),e.unref(n)?(e.openBlock(),e.createBlock(i,{key:0},{default:e.withCtx(()=>[e.createVNode(l,{alert:e.unref(n)},null,8,["alert"])]),_:1})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",j,[e.createElementVNode("div",$,[e.createVNode(B,{user:e.unref(t)},null,8,["user"])]),e.createElementVNode("div",A,[e.createVNode(T,{slug:e.unref(t).user_name},null,8,["slug"])])]),e.createElementVNode("div",L,[e.createElementVNode("div",null,[e.createVNode(D,{user_name:e.unref(t).user_name},null,8,["user_name"])]),e.createElementVNode("div",null,[e.createVNode(F,{user_name:r.$route.params.user_name.toString()},null,8,["user_name"])])])],64))],64)}}});exports.default=H;
