"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),d=require("vue-router"),p=require("./axios-tuVKNgv9.cjs"),_=require("./types-D9XxK5BT.cjs"),i=require("./moment-Bp7fbP4q.cjs");function m(l){const o=e.ref(!1),t=e.ref(),n=e.ref({id:0,name:"",slug:"",description:"",icon:"",created_at:"",updated_at:"",deleted_at:null,users_count:0});async function s(){o.value=!0,t.value=null,await p.axios.get("/api/groups/g/"+l.params.slug).then(r=>{n.value=r.data}).catch(r=>{t.value={description:"An error as occurred",style:_.a.Danger,closeBtn:!0,...r.response.data}}).finally(()=>{o.value=!1})}return e.watch(()=>l.params.slug,()=>{s()},{immediate:!0}),{group:n,error:t,loading:o}}const g={class:"uk-text-center"},f={class:"uk-text-center uk-margin-remove"},V={class:"uk-text-meta"},N={"uk-grid":""},v={class:"uk-width-auto@m"},k={class:"uk-width-expand@m uk-text-right"},C={class:"uk-badge"},h=e.defineComponent({__name:"GroupInfo",props:{group:{}},setup(l){return(o,t)=>{const n=e.resolveComponent("font-awesome-icon"),s=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(s,null,{default:e.withCtx(()=>[e.createElementVNode("div",g,[o.group.icon?(e.openBlock(),e.createBlock(n,{key:0,icon:o.group.icon,class:"fa-5x"},null,8,["icon"])):e.createCommentVNode("",!0)]),e.createElementVNode("h3",f,e.toDisplayString(o.group.name),1),e.createElementVNode("p",V,e.toDisplayString(o.group.description),1),e.createElementVNode("div",N,[e.createElementVNode("div",v,[e.createElementVNode("strong",null,[e.createVNode(n,{icon:"users"}),t[0]||(t[0]=e.createTextVNode(" Users"))])]),e.createElementVNode("div",k,[e.createElementVNode("span",C,e.toDisplayString(o.group.users_count),1)])])]),_:1})}}}),x={class:"uk-text-meta"},y=e.defineComponent({__name:"GroupUsers",props:{slug:{}},setup(l){return(o,t)=>{const n=e.resolveComponent("UFSprunjeHeader"),s=e.resolveComponent("RouterLink"),r=e.resolveComponent("UFSprunjeColumn"),u=e.resolveComponent("UFSprunjeTable"),c=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(c,{title:"Group Users"},{default:e.withCtx(()=>[e.createVNode(u,{dataUrl:"/api/groups/g/"+o.slug+"/users"},{header:e.withCtx(()=>[e.createVNode(n,{sort:"name"},{default:e.withCtx(()=>t[0]||(t[0]=[e.createTextVNode("User")])),_:1}),e.createVNode(n,{sort:"last_activity"},{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("Last Activity")])),_:1}),e.createVNode(n,{sort:"status"},{default:e.withCtx(()=>t[2]||(t[2]=[e.createTextVNode("Status")])),_:1}),e.createVNode(n,null,{default:e.withCtx(()=>t[3]||(t[3]=[e.createTextVNode("Actions")])),_:1})]),body:e.withCtx(({item:a})=>[e.createVNode(r,null,{default:e.withCtx(()=>[e.createElementVNode("strong",null,[e.createVNode(s,{to:{name:"admin.user",params:{user_name:a.user_name}}},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.full_name)+" ("+e.toDisplayString(a.user_name)+") ",1)]),_:2},1032,["to"])]),e.createElementVNode("div",x,e.toDisplayString(a.email),1)]),_:2},1024),e.createVNode(r,null,{default:e.withCtx(()=>[e.createElementVNode("div",null,e.toDisplayString(e.unref(i.hooks)(a.last_activity.occurred_at).format("dddd")),1),e.createElementVNode("div",null,e.toDisplayString(e.unref(i.hooks)(a.last_activity.occurred_at).format("MMM Do, YYYY h:mm a")),1),e.createElementVNode("i",null,e.toDisplayString(a.last_activity.description),1)]),_:2},1024),e.createVNode(r),e.createVNode(r)]),_:1},8,["dataUrl"])]),_:1})}}}),w={key:1,"uk-grid":""},U={class:"uk-width-1-3"},S={class:"uk-width-2-3"},B=e.defineComponent({__name:"GroupView",setup(l){const o=d.useRoute(),{group:t,error:n}=m(o);return(s,r)=>{const u=e.resolveComponent("UFHeaderPage"),c=e.resolveComponent("UFAlert");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(u,{title:"Group details",caption:"Group information page"}),e.unref(n)?(e.openBlock(),e.createBlock(c,{key:0,alert:e.unref(n)},null,8,["alert"])):(e.openBlock(),e.createElementBlock("div",w,[e.createElementVNode("div",U,[e.createVNode(h,{group:e.unref(t)},null,8,["group"])]),e.createElementVNode("div",S,[e.createVNode(y,{slug:e.unref(t).slug},null,8,["slug"])])]))],64)}}});exports.default=B;
