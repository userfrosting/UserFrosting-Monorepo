"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),c=require("pinia"),m=require("./axios-tuVKNgv9.cjs"),p=require("./types-D9XxK5BT.cjs"),d=require("./moment-Bp7fbP4q.cjs"),V={counter:{users:0,roles:0,groups:0},info:{frameworkVersion:"",phpVersion:"",database:{connection:"",name:"",type:"",version:""},server:"",projectPath:""},sprinkles:{},users:[]},N=c.defineStore("dashboardApi",{state:()=>({data:V}),actions:{async load(){return m.axios.get("/api/dashboard").then(l=>(this.data=l.data,this.data)).catch(l=>{throw{description:"An error as occurred",style:p.a.Danger,closeBtn:!0,...l.response.data}})}}}),_=e.defineComponent({__name:"DashboardStats",props:{users:{},roles:{},groups:{}},setup(l){return(o,t)=>{const n=e.resolveComponent("UFInfoBox");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(n,{value:o.users,label:"Users",faIcon:"user",to:{name:"admin.users"}},null,8,["value"]),e.createVNode(n,{value:o.roles,label:"Roles",faIcon:"address-card",to:{name:"admin.roles"}},null,8,["value"]),e.createVNode(n,{value:o.groups,label:"Groups",faIcon:"users",to:{name:"admin.groups"}},null,8,["value"])],64)}}}),f={class:"uk-grid uk-flex-center","uk-grid":""},k=["src"],E={class:"uk-margin-remove"},v={class:"uk-margin-remove uk-text-meta"},g=e.defineComponent({__name:"DashboardRecentUsers",props:{users:{}},setup(l){return(o,t)=>{const n=e.resolveComponent("RouterLink"),r=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(r,{title:"Latest Users"},{footer:e.withCtx(()=>[e.createVNode(n,{to:{name:"admin.users"},class:"uk-text-center"},{default:e.withCtx(()=>t[0]||(t[0]=[e.createTextVNode("View All Users")])),_:1})]),default:e.withCtx(()=>[e.createElementVNode("div",f,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.users,s=>(e.openBlock(),e.createElementBlock("div",{key:s.id,class:"uk-text-center"},[e.createVNode(n,{to:{name:"admin.user",params:{user_name:s.user_name}},class:"uk-text-decoration-none uk-link-text"},{default:e.withCtx(()=>[e.createElementVNode("img",{src:s.avatar,alt:"User Image",class:"uk-border-circle"},null,8,k),e.createElementVNode("p",E,e.toDisplayString(s.full_name),1),e.createElementVNode("p",v,e.toDisplayString(e.unref(d.hooks)(s.created_at).fromNow()),1)]),_:2},1032,["to"])]))),128))])]),_:1})}}}),h={class:"uk-description-list"},C={class:"uk-list uk-list-disc uk-list-collapse"},y=e.defineComponent({__name:"DashboardSystemInfo",props:{info:{},sprinkles:{}},setup(l){return(o,t)=>{const n=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(n,{title:"System Information"},{default:e.withCtx(()=>[e.createElementVNode("dl",h,[t[0]||(t[0]=e.createElementVNode("dt",null,"Framework version",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",null,[e.createElementVNode("code",null,e.toDisplayString(o.info.frameworkVersion),1)])]),t[1]||(t[1]=e.createElementVNode("dt",null,"PHP version",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",null,[e.createElementVNode("code",null,e.toDisplayString(o.info.phpVersion),1)])]),t[2]||(t[2]=e.createElementVNode("dt",null,"Webserver software",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",null,[e.createElementVNode("code",null,e.toDisplayString(o.info.server),1)])]),t[3]||(t[3]=e.createElementVNode("dt",null,"Database connection",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",null,[e.createElementVNode("code",null,e.toDisplayString(o.info.database.connection),1)])]),t[4]||(t[4]=e.createElementVNode("dt",null,"Database version",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",null,[e.createElementVNode("code",null,e.toDisplayString(o.info.database.type)+" "+e.toDisplayString(o.info.database.version),1)])]),t[5]||(t[5]=e.createElementVNode("dt",null,"Database name",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",null,[e.createElementVNode("code",null,e.toDisplayString(o.info.database.name),1)])]),t[6]||(t[6]=e.createElementVNode("dt",null,"Project directory",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",null,[e.createElementVNode("code",null,e.toDisplayString(o.info.projectPath),1)])]),t[7]||(t[7]=e.createElementVNode("dt",null,"Loaded sprinkles",-1)),e.createElementVNode("dd",null,[e.createElementVNode("ul",C,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.sprinkles,r=>(e.openBlock(),e.createElementBlock("li",{key:r},e.toDisplayString(r),1))),128))])])])]),_:1})}}}),D={class:"uk-text-meta"},S=e.defineComponent({__name:"DashboardActivities",setup(l){return(o,t)=>{const n=e.resolveComponent("UFSprunjeHeader"),r=e.resolveComponent("UFSprunjeColumn"),s=e.resolveComponent("RouterLink"),i=e.resolveComponent("UFSprunjeTable"),u=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(u,{title:"Latest Activities"},{default:e.withCtx(()=>[e.createVNode(i,{dataUrl:"/api/activities",defaultSorts:{occurred_at:"desc"},hidePagination:"",hideFilters:""},{header:e.withCtx(()=>[e.createVNode(n,null,{default:e.withCtx(()=>t[0]||(t[0]=[e.createTextVNode("Activity Time")])),_:1}),e.createVNode(n,null,{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("User")])),_:1}),e.createVNode(n,null,{default:e.withCtx(()=>t[2]||(t[2]=[e.createTextVNode("Description")])),_:1})]),body:e.withCtx(({item:a})=>[e.createVNode(r,null,{default:e.withCtx(()=>[e.createElementVNode("div",null,e.toDisplayString(e.unref(d.hooks)(a.occurred_at).format("dddd")),1),e.createElementVNode("div",null,e.toDisplayString(e.unref(d.hooks)(a.occurred_at).format("MMM Do, YYYY h:mm a")),1)]),_:2},1024),e.createVNode(r,null,{default:e.withCtx(()=>[e.createElementVNode("strong",null,[e.createVNode(s,{to:{name:"admin.user",params:{user_name:a.user.user_name}}},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.user.full_name)+" ("+e.toDisplayString(a.user.user_name)+") ",1)]),_:2},1032,["to"])]),e.createElementVNode("div",D,e.toDisplayString(a.user.email),1)]),_:2},1024),e.createVNode(r,null,{default:e.withCtx(()=>[e.createElementVNode("div",null,e.toDisplayString(a.ip_address),1),e.createElementVNode("div",null,[e.createElementVNode("i",null,e.toDisplayString(a.description),1)])]),_:2},1024)]),_:1})]),_:1})}}}),x={class:"uk-child-width-expand","uk-grid":""},b={class:"uk-child-width-1-2","uk-grid":""},B={class:"uk-child-width-1-1","uk-grid":""},w=e.defineComponent({__name:"DashboardView",setup(l){const o=N();return o.load(),(t,n)=>{const r=e.resolveComponent("UFHeaderPage");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(r,{title:"Dashboard"}),e.createElementVNode("div",x,[e.createVNode(_,{users:e.unref(o).data.counter.users,roles:e.unref(o).data.counter.roles,groups:e.unref(o).data.counter.groups},null,8,["users","roles","groups"])]),e.createElementVNode("div",b,[e.createElementVNode("div",null,[e.createElementVNode("div",B,[e.createElementVNode("div",null,[e.createVNode(g,{users:e.unref(o).data.users},null,8,["users"])]),e.createElementVNode("div",null,[e.createVNode(y,{info:e.unref(o).data.info,sprinkles:e.unref(o).data.sprinkles},null,8,["info","sprinkles"])])])]),e.createElementVNode("div",null,[e.createVNode(S)])])],64)}}});exports.default=w;
