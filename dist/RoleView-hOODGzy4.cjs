"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),c=require("vue-router"),m=require("./axios-tuVKNgv9.cjs"),p=require("./types-D9XxK5BT.cjs");function _(u){const o=e.ref(!1),t=e.ref(),n=e.ref({id:0,slug:"",name:"",description:"",created_at:"",updated_at:"",deleted_at:null,users_count:0});async function r(){o.value=!0,t.value=null,await m.axios.get("/api/roles/r/"+u.params.slug).then(l=>{n.value=l.data}).catch(l=>{t.value={description:"An error as occurred",style:p.a.Danger,...l.response.data}}).finally(()=>{o.value=!1})}return e.watch(()=>u.params.slug,()=>{r()},{immediate:!0}),{role:n,error:t,loading:o}}const V={class:"uk-text-center"},N={class:"uk-text-center uk-margin-remove"},C={class:"uk-text-meta"},f={class:"uk-description-list"},k={class:"uk-badge"},x=e.defineComponent({__name:"RoleInfo",props:{role:{}},setup(u){return(o,t)=>{const n=e.resolveComponent("font-awesome-icon"),r=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(r,null,{default:e.withCtx(()=>[e.createElementVNode("div",V,[e.createVNode(n,{icon:"address-card",class:"fa-5x"})]),e.createElementVNode("h3",N,e.toDisplayString(o.role.name),1),e.createElementVNode("p",C,e.toDisplayString(o.role.description),1),t[1]||(t[1]=e.createElementVNode("hr",null,null,-1)),e.createElementVNode("dl",f,[e.createElementVNode("dt",null,[e.createVNode(n,{icon:"users"}),t[0]||(t[0]=e.createTextVNode(" Users"))]),e.createElementVNode("dd",null,[e.createElementVNode("span",k,e.toDisplayString(o.role.users_count),1)])]),t[2]||(t[2]=e.createElementVNode("hr",null,null,-1)),t[3]||(t[3]=e.createElementVNode("button",{class:"uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom uk-button-small"}," Edit Role ",-1)),t[4]||(t[4]=e.createElementVNode("button",{class:"uk-button uk-button-danger uk-width-1-1 uk-margin-small-bottom uk-button-small"}," Delete Role ",-1)),e.renderSlot(o.$slots,"default",{dataTest:"slot"})]),_:3})}}}),g={class:"uk-button uk-button-default"},h={class:"uk-text-meta"},w={class:"uk-button uk-button-danger uk-button-small"},b=e.defineComponent({__name:"RoleUsers",props:{slug:{}},setup(u){return(o,t)=>{const n=e.resolveComponent("font-awesome-icon"),r=e.resolveComponent("UFSprunjeHeader"),l=e.resolveComponent("RouterLink"),s=e.resolveComponent("UFSprunjeColumn"),d=e.resolveComponent("UFSprunjeTable"),i=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(i,{title:"Role Users"},{default:e.withCtx(()=>[e.createVNode(d,{dataUrl:"/api/roles/r/"+o.slug+"/users",searchColumn:"name",hideFilters:""},{actions:e.withCtx(()=>[e.createElementVNode("button",g,[e.createVNode(n,{icon:"user-plus"}),t[0]||(t[0]=e.createTextVNode(" Add user "))])]),header:e.withCtx(()=>[e.createVNode(r,{sort:"name"},{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("User")])),_:1}),e.createVNode(r,null,{default:e.withCtx(()=>t[2]||(t[2]=[e.createTextVNode("Actions")])),_:1})]),body:e.withCtx(({item:a})=>[e.createVNode(s,null,{default:e.withCtx(()=>[e.createElementVNode("strong",null,[e.createVNode(l,{to:{name:"admin.user",params:{user_name:a.user_name}}},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.full_name)+" ("+e.toDisplayString(a.user_name)+") ",1)]),_:2},1032,["to"])]),e.createElementVNode("div",h,e.toDisplayString(a.email),1)]),_:2},1024),e.createVNode(s,null,{default:e.withCtx(()=>[e.createElementVNode("button",w,[e.createVNode(n,{icon:"trash"})])]),_:1})]),_:1},8,["dataUrl"])]),_:1})}}}),v={class:"uk-button uk-button-default"},U={class:"uk-button uk-button-danger uk-button-small"},F=e.defineComponent({__name:"RolePermissions",props:{role:{}},setup(u){return(o,t)=>{const n=e.resolveComponent("font-awesome-icon"),r=e.resolveComponent("UFSprunjeHeader"),l=e.resolveComponent("RouterLink"),s=e.resolveComponent("UFSprunjeColumn"),d=e.resolveComponent("UFSprunjeTable"),i=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(i,{title:"Permissions"},{default:e.withCtx(()=>[e.createVNode(d,{dataUrl:"/api/roles/r/"+o.role+"/permissions",searchColumn:"name"},{actions:e.withCtx(()=>[e.createElementVNode("button",v,[e.createVNode(n,{icon:"key"}),t[0]||(t[0]=e.createTextVNode(" Add permission "))])]),header:e.withCtx(()=>[e.createVNode(r,{sort:"name"},{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("Permission")])),_:1}),e.createVNode(r,{sort:"properties"},{default:e.withCtx(()=>t[2]||(t[2]=[e.createTextVNode("Description")])),_:1}),e.createVNode(r,null,{default:e.withCtx(()=>t[3]||(t[3]=[e.createTextVNode("Actions")])),_:1})]),body:e.withCtx(({item:a})=>[e.createVNode(s,null,{default:e.withCtx(()=>[e.createElementVNode("strong",null,[e.createVNode(l,{to:{name:"admin.permission",params:{id:a.id}}},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.name),1)]),_:2},1032,["to"])])]),_:2},1024),e.createVNode(s,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.description),1)]),_:2},1024),e.createVNode(s,null,{default:e.withCtx(()=>[e.createElementVNode("button",U,[e.createVNode(n,{icon:"trash"})])]),_:1})]),_:1},8,["dataUrl"])]),_:1})}}}),E={"uk-grid":""},S={class:"uk-width-1-3"},y={class:"uk-width-2-3"},B={class:"uk-child-width-1-1","uk-grid":""},T=e.defineComponent({__name:"RoleView",setup(u){const o=c.useRoute(),{role:t,error:n}=_(o);return(r,l)=>{const s=e.resolveComponent("UFHeaderPage"),d=e.resolveComponent("UFAlert"),i=e.resolveComponent("UFCardBox");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(s,{title:"Role details",caption:"Role information page"}),e.unref(n)?(e.openBlock(),e.createBlock(i,{key:0},{default:e.withCtx(()=>[e.createVNode(d,{alert:e.unref(n)},null,8,["alert"])]),_:1})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",E,[e.createElementVNode("div",S,[e.createVNode(x,{role:e.unref(t)},null,8,["role"])]),e.createElementVNode("div",y,[e.createVNode(b,{slug:e.unref(t).slug},null,8,["slug"])])]),e.createElementVNode("div",B,[e.createElementVNode("div",null,[e.createVNode(F,{role:r.$route.params.slug.toString()},null,8,["role"])])])],64))],64)}}});exports.default=T;
