"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),u=require("vue-router"),p=require("./composable/permission.cjs"),_={class:"uk-text-center"},C={class:"uk-text-center uk-margin-remove"},V={class:"uk-text-meta"},N={class:"uk-description-list"},k={style:{"text-wrap":"wrap"}},f=e.defineComponent({__name:"PermissionInfo",props:{permission:{}},setup(m){return(o,t)=>{const n=e.resolveComponent("font-awesome-icon"),r=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(r,null,{default:e.withCtx(()=>[e.createElementVNode("div",_,[e.createVNode(n,{icon:"key",class:"fa-5x"})]),e.createElementVNode("h3",C,e.toDisplayString(o.permission.name),1),e.createElementVNode("p",V,e.toDisplayString(o.permission.description),1),t[2]||(t[2]=e.createElementVNode("hr",null,null,-1)),e.createElementVNode("dl",N,[t[0]||(t[0]=e.createElementVNode("dt",null,"Slug",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",null,[e.createElementVNode("code",null,e.toDisplayString(o.permission.slug),1)])]),t[1]||(t[1]=e.createElementVNode("dt",null,"Conditions",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",k,[e.createElementVNode("code",null,e.toDisplayString(o.permission.conditions),1)])])]),e.renderSlot(o.$slots,"default",{dataTest:"slot"})]),_:3})}}}),x={class:"uk-text-meta"},g=e.defineComponent({__name:"PermissionUsers",props:{id:{}},setup(m){return(o,t)=>{const n=e.resolveComponent("UFSprunjeHeader"),r=e.resolveComponent("RouterLink"),l=e.resolveComponent("UFSprunjeColumn"),a=e.resolveComponent("UFLabel"),i=e.resolveComponent("UFSprunjeTable"),d=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(d,{title:"Users with this permission"},{default:e.withCtx(()=>[e.createVNode(i,{dataUrl:"/api/permissions/p/"+o.id+"/users",searchColumn:"name",hideFilters:""},{header:e.withCtx(()=>[e.createVNode(n,{sort:"name"},{default:e.withCtx(()=>t[0]||(t[0]=[e.createTextVNode("User")])),_:1}),e.createVNode(n,null,{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("Has permission via roles")])),_:1})]),body:e.withCtx(({item:s})=>[e.createVNode(l,null,{default:e.withCtx(()=>[e.createElementVNode("strong",null,[e.createVNode(r,{to:{name:"admin.user",params:{user_name:s.user_name}}},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(s.full_name)+" ("+e.toDisplayString(s.user_name)+") ",1)]),_:2},1032,["to"])]),e.createElementVNode("div",x,e.toDisplayString(s.email),1)]),_:2},1024),e.createVNode(l,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.roles_via,c=>(e.openBlock(),e.createBlock(r,{key:c.id,to:{name:"admin.role",params:{slug:c.slug}}},{default:e.withCtx(()=>[e.createVNode(a,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)]),_:1},8,["dataUrl"])]),_:1})}}}),h={key:1,"uk-grid":""},U={class:"uk-width-1-3"},v={class:"uk-width-2-3"},F=e.defineComponent({__name:"PermissionView",setup(m){const o=u.useRoute(),{permission:t,error:n}=p.usePermissionApi(o);return(r,l)=>{const a=e.resolveComponent("UFHeaderPage"),i=e.resolveComponent("UFAlert"),d=e.resolveComponent("UFCardBox");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(a,{title:"Permission details",caption:"Permission information page"}),e.unref(n)?(e.openBlock(),e.createBlock(d,{key:0},{default:e.withCtx(()=>[e.createVNode(i,{alert:e.unref(n)},null,8,["alert"])]),_:1})):(e.openBlock(),e.createElementBlock("div",h,[e.createElementVNode("div",U,[e.createVNode(f,{permission:e.unref(t)},null,8,["permission"])]),e.createElementVNode("div",v,[e.createVNode(g,{id:r.$route.params.id.toString()},null,8,["id"])])]))],64)}}});exports.default=F;
