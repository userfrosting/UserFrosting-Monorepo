"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("pinia"),r=require("./types-DQOhgoGz.cjs"),o=s.defineStore("auth",{persist:!0,state:()=>({user:null}),getters:{isAuthenticated:e=>e.user!==null},actions:{setUser(e){this.user=e},unsetUser(){this.user=null},async login(e){return r.axios.post("/account/login",e).then(t=>(this.setUser(t.data),this.user)).catch(t=>{throw{description:"An error as occurred",style:r.a.Danger,closeBtn:!0,...t.response.data}})},async check(){return r.axios.get("/account/auth-check").then(e=>(this.setUser(e.data.user),this.user)).catch(e=>{throw this.unsetUser(),{description:"An error as occurred",style:r.a.Danger,closeBtn:!0,...e.response.data}})},async logout(){return this.unsetUser(),r.axios.get("/account/logout").catch(e=>{throw{description:"An error as occurred",style:r.a.Danger,closeBtn:!0,...e.response.data}})}}});exports.useAuthStore=o;
