"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),x=require("./axios-tuVKNgv9.cjs"),E=(c,l={},f={},d=10,p=0)=>{const n=e.ref(d),a=e.ref(p),u=e.ref(l),i=e.ref(f);console.log("SPRUNJER DEBUG SORT",u,l);const t=e.ref({}),s=e.ref(!1);async function v(){s.value=!0,x.axios.get(e.toValue(c),{params:{size:n.value,page:a.value,sorts:u.value,filters:i.value}}).then(o=>{t.value=o.data,s.value=!1}).catch(o=>{console.error(o)})}const g=e.computed(()=>Math.max(Math.ceil((t.value.count_filtered??0)/n.value)-1,0)),m=e.computed(()=>t.value.count??0),h=e.computed(()=>Math.min(a.value*n.value+1,t.value.count??0)),S=e.computed(()=>Math.min((a.value+1)*n.value,t.value.count??0)),w=e.computed(()=>t.value.count_filtered??0),M=e.computed(()=>t.value.rows??[]);function y(){console.log("Not yet implemented")}function j(o){let r;u.value[o]==="asc"?r="desc":u.value[o]==="desc"?r=null:r="asc",u.value[o]=r}return e.watchEffect(()=>{v()}),{dataUrl:c,size:n,page:a,sorts:u,filters:i,data:t,fetch:v,loading:s,downloadCsv:y,totalPages:g,countFiltered:w,count:m,rows:M,first:h,last:S,toggleSort:j}};exports.useSprunjer=E;
