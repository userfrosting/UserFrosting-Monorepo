"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),b=require("./axios-tuVKNgv9.cjs"),q=(v,f={},d={},p=10,m=0)=>{const l=e.ref(v),o=e.ref(p),r=e.ref(m),a=e.ref(f),c=e.ref(d),t=e.ref({}),s=e.ref(!1);async function i(){s.value=!0,b.axios.get(e.toValue(l),{params:{size:o.value,page:r.value,sorts:a.value,filters:c.value}}).then(u=>{t.value=u.data,s.value=!1}).catch(u=>{console.error(u)})}const g=e.computed(()=>Math.max(Math.ceil((t.value.count_filtered??0)/o.value)-1,0)),h=e.computed(()=>t.value.count??0),w=e.computed(()=>Math.min(r.value*o.value+1,t.value.count??0)),M=e.computed(()=>Math.min((r.value+1)*o.value,t.value.count??0)),S=e.computed(()=>t.value.count_filtered??0),y=e.computed(()=>t.value.rows??[]);function j(){console.log("Not yet implemented")}function x(u){let n;a.value[u]==="asc"?n="desc":a.value[u]==="desc"?n=null:n="asc",a.value[u]=n}return e.watchEffect(()=>{i()}),{dataUrl:l,size:o,page:r,sorts:a,filters:c,data:t,fetch:i,loading:s,downloadCsv:j,totalPages:g,countFiltered:S,count:h,rows:y,first:w,last:M,toggleSort:x}};exports.useSprunjer=q;
