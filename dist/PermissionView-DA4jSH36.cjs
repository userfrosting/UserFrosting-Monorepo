"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),m=require("vue-router"),p=require("./axios-tuVKNgv9.cjs"),_=require("./types-D9XxK5BT.cjs");function f(a){const o=e.ref(!1),t=e.ref(),n=e.ref({id:0,slug:"",name:"",conditions:"",description:"",created_at:"",updated_at:"",deleted_at:null});async function r(){o.value=!0,t.value=null,await p.axios.get("/api/permissions/p/"+a.params.id).then(s=>{n.value=s.data}).catch(s=>{t.value={description:"An error as occurred",style:_.a.Danger,...s.response.data}}).finally(()=>{o.value=!1})}return e.watch(()=>a.params.id,()=>{r()},{immediate:!0}),{permission:n,error:t,loading:o}}const C={class:"uk-text-center"},V={class:"uk-text-center uk-margin-remove"},N={class:"uk-text-meta"},k={class:"uk-description-list"},g={style:{"text-wrap":"wrap"}},h=e.defineComponent({__name:"PermissionInfo",props:{permission:{}},setup(a){return(o,t)=>{const n=e.resolveComponent("font-awesome-icon"),r=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(r,null,{default:e.withCtx(()=>[e.createElementVNode("div",C,[e.createVNode(n,{icon:"key",class:"fa-5x"})]),e.createElementVNode("h3",V,e.toDisplayString(o.permission.name),1),e.createElementVNode("p",N,e.toDisplayString(o.permission.description),1),t[2]||(t[2]=e.createElementVNode("hr",null,null,-1)),e.createElementVNode("dl",k,[t[0]||(t[0]=e.createElementVNode("dt",null,"Slug",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",null,[e.createElementVNode("code",null,e.toDisplayString(o.permission.slug),1)])]),t[1]||(t[1]=e.createElementVNode("dt",null,"Conditions",-1)),e.createElementVNode("dd",null,[e.createElementVNode("pre",g,[e.createElementVNode("code",null,e.toDisplayString(o.permission.conditions),1)])])]),e.renderSlot(o.$slots,"default",{dataTest:"slot"})]),_:3})}}}),v={class:"uk-text-meta"},x=e.defineComponent({__name:"PermissionUsers",props:{id:{}},setup(a){return(o,t)=>{const n=e.resolveComponent("UFSprunjeHeader"),r=e.resolveComponent("RouterLink"),s=e.resolveComponent("UFSprunjeColumn"),i=e.resolveComponent("UFLabel"),d=e.resolveComponent("UFSprunjeTable"),c=e.resolveComponent("UFCardBox");return e.openBlock(),e.createBlock(c,{title:"Users with this permission"},{default:e.withCtx(()=>[e.createVNode(d,{dataUrl:"/api/permissions/p/"+o.id+"/users",searchColumn:"name",hideFilters:""},{header:e.withCtx(()=>[e.createVNode(n,{sort:"name"},{default:e.withCtx(()=>t[0]||(t[0]=[e.createTextVNode("User")])),_:1}),e.createVNode(n,null,{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("Has permission via roles")])),_:1})]),body:e.withCtx(({item:l})=>[e.createVNode(s,null,{default:e.withCtx(()=>[e.createElementVNode("strong",null,[e.createVNode(r,{to:{name:"admin.user",params:{user_name:l.user_name}}},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.full_name)+" ("+e.toDisplayString(l.user_name)+") ",1)]),_:2},1032,["to"])]),e.createElementVNode("div",v,e.toDisplayString(l.email),1)]),_:2},1024),e.createVNode(s,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.roles_via,u=>(e.openBlock(),e.createBlock(r,{key:u.id,to:{name:"admin.role",params:{slug:u.slug}}},{default:e.withCtx(()=>[e.createVNode(i,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)]),_:1},8,["dataUrl"])]),_:1})}}}),U={key:1,"uk-grid":""},w={class:"uk-width-1-3"},F={class:"uk-width-2-3"},y=e.defineComponent({__name:"PermissionView",setup(a){const o=m.useRoute(),{permission:t,error:n}=f(o);return(r,s)=>{const i=e.resolveComponent("UFHeaderPage"),d=e.resolveComponent("UFAlert"),c=e.resolveComponent("UFCardBox");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(i,{title:"Permission details",caption:"Permission information page"}),e.unref(n)?(e.openBlock(),e.createBlock(c,{key:0},{default:e.withCtx(()=>[e.createVNode(d,{alert:e.unref(n)},null,8,["alert"])]),_:1})):(e.openBlock(),e.createElementBlock("div",U,[e.createElementVNode("div",w,[e.createVNode(h,{permission:e.unref(t)},null,8,["permission"])]),e.createElementVNode("div",F,[e.createVNode(x,{id:r.$route.params.id.toString()},null,8,["id"])])]))],64)}}});exports.default=y;
