"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),f=require("./axios-tuVKNgv9.cjs"),V=require("./types-D9XxK5BT.cjs");function p(){return{slug:"",name:"",description:"",icon:"users"}}async function k(c){return f.axios.post("/api/groups",c).then(a=>a.data.message).catch(a=>{throw{description:"An error as occurred",style:V.a.Danger,closeBtn:!0,...a.response.data}})}const N={class:"uk-fieldset uk-form-stacked"},v={class:"uk-margin"},g={class:"uk-inline uk-width-1-1"},_={class:"uk-margin"},x={class:"uk-inline uk-width-1-1"},b={class:"uk-margin"},w={class:"uk-inline uk-width-1-1"},C={class:"uk-margin"},E={class:"uk-text-right","uk-margin":""},y=e.defineComponent({__name:"GroupCreateForm",emits:["cancel","saved"],setup(c,{emit:a}){const o=a,d=e.ref(!1),n=e.ref();let r=e.reactive(p());async function i(){d.value=!0,n.value=null,await k(r).then(u=>{o("saved"),r=p()}).catch(u=>{n.value=u}).finally(()=>{d.value=!1})}return(u,t)=>{const m=e.resolveComponent("UFAlert"),s=e.resolveComponent("font-awesome-icon");return e.openBlock(),e.createElementBlock("form",{onSubmit:t[5]||(t[5]=e.withModifiers(l=>i(),["prevent"]))},[e.createElementVNode("fieldset",N,[n.value?(e.openBlock(),e.createBlock(m,{key:0,"data-test":"error",alert:n.value},null,8,["alert"])):e.createCommentVNode("",!0),e.createElementVNode("div",v,[t[6]||(t[6]=e.createElementVNode("label",{class:"uk-form-label",for:"form-stacked-text"},"Group name",-1)),e.createElementVNode("div",g,[e.createVNode(s,{class:"fa-form-icon",icon:"pen-to-square","fixed-width":""}),e.withDirectives(e.createElementVNode("input",{class:"uk-input",type:"text",placeholder:"Please enter a name for the group","aria-label":"Group Name","data-test":"name","onUpdate:modelValue":t[0]||(t[0]=l=>e.unref(r).name=l)},null,512),[[e.vModelText,e.unref(r).name]])])]),e.createElementVNode("div",_,[t[7]||(t[7]=e.createElementVNode("label",{class:"uk-form-label",for:"form-stacked-text"},"Slug",-1)),e.createElementVNode("div",x,[e.createVNode(s,{class:"fa-form-icon",icon:"tag","fixed-width":""}),e.withDirectives(e.createElementVNode("input",{class:"uk-input",type:"text",placeholder:"Group Slug","aria-label":"Group Slug","data-test":"slug","onUpdate:modelValue":t[1]||(t[1]=l=>e.unref(r).slug=l)},null,512),[[e.vModelText,e.unref(r).slug]])])]),e.createElementVNode("div",b,[t[8]||(t[8]=e.createElementVNode("label",{class:"uk-form-label",for:"form-stacked-text"},"Group Icon",-1)),e.createElementVNode("div",w,[e.createVNode(s,{class:"fa-form-icon",icon:e.unref(r).icon,"fixed-width":""},null,8,["icon"]),e.withDirectives(e.createElementVNode("input",{class:"uk-input",type:"text",placeholder:"Icon for group members","aria-label":"Group Icon","data-test":"icon","onUpdate:modelValue":t[2]||(t[2]=l=>e.unref(r).icon=l)},null,512),[[e.vModelText,e.unref(r).icon]])])]),e.createElementVNode("div",C,[t[9]||(t[9]=e.createElementVNode("label",{class:"uk-form-label",for:"form-stacked-text"},"Description",-1)),e.withDirectives(e.createElementVNode("textarea",{class:"uk-textarea",placeholder:"Group Description","aria-label":"Description","data-test":"description",rows:"6","onUpdate:modelValue":t[3]||(t[3]=l=>e.unref(r).description=l)},null,512),[[e.vModelText,e.unref(r).description]])]),e.createElementVNode("div",E,[e.createElementVNode("button",{class:"uk-button uk-button-default",type:"button",onClick:t[4]||(t[4]=l=>u.$emit("cancel"))},"Cancel"),t[10]||(t[10]=e.createElementVNode("button",{class:"uk-button uk-button-primary",type:"submit"},"Save",-1))])])],32)}}}),h={class:"uk-button uk-button-default",type:"button","uk-toggle":"target: #group-create-form"},F={id:"group-create-form","uk-modal":""},U={class:"uk-modal-dialog uk-modal-body"},G=e.defineComponent({__name:"GroupCreateModal",setup(c){const a=e.inject("sprunjer"),o=()=>{a.fetch()};return(d,n)=>{const r=e.resolveComponent("font-awesome-icon");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("button",h,[e.createVNode(r,{icon:"plus","fixed-width":""}),n[0]||(n[0]=e.createTextVNode(" Create Group "))]),e.createElementVNode("div",F,[e.createElementVNode("div",U,[n[1]||(n[1]=e.createElementVNode("button",{class:"uk-modal-close-default",type:"button","uk-close":""},null,-1)),n[2]||(n[2]=e.createElementVNode("h3",{class:"uk-modal-title"},"Create Group",-1)),e.createVNode(y,{onCancel:o,onSaved:o})])])],64)}}}),S={class:"uk-button uk-button-default uk-button-small",type:"button"},T=e.defineComponent({__name:"GroupsView",setup(c){return(a,o)=>{const d=e.resolveComponent("UFHeaderPage"),n=e.resolveComponent("UFSprunjeHeader"),r=e.resolveComponent("RouterLink"),i=e.resolveComponent("UFSprunjeColumn"),u=e.resolveComponent("font-awesome-icon"),t=e.resolveComponent("UFSprunjeTable"),m=e.resolveComponent("UFCardBox");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(d,{title:"Groups",caption:"A listing of the groups for your site. Provides management tools for editing and deleting groups."}),e.createVNode(m,null,{default:e.withCtx(()=>[e.createVNode(t,{dataUrl:"/api/groups",searchColumn:"name"},{actions:e.withCtx(()=>[e.createVNode(G)]),header:e.withCtx(()=>[e.createVNode(n,{sort:"name"},{default:e.withCtx(()=>o[0]||(o[0]=[e.createTextVNode("Groups")])),_:1}),e.createVNode(n,{sort:"description"},{default:e.withCtx(()=>o[1]||(o[1]=[e.createTextVNode("Description")])),_:1}),e.createVNode(n,null,{default:e.withCtx(()=>o[2]||(o[2]=[e.createTextVNode("Actions")])),_:1})]),body:e.withCtx(({item:s})=>[e.createVNode(i,null,{default:e.withCtx(()=>[e.createElementVNode("strong",null,[e.createVNode(r,{to:{name:"admin.group",params:{slug:s.slug}}},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(s.name),1)]),_:2},1032,["to"])])]),_:2},1024),e.createVNode(i,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(s.description),1)]),_:2},1024),e.createVNode(i,null,{default:e.withCtx(()=>[e.createElementVNode("button",S,[o[3]||(o[3]=e.createTextVNode(" Actions ")),e.createVNode(u,{icon:"caret-down","fixed-width":""})]),o[4]||(o[4]=e.createElementVNode("div",{"uk-dropdown":""},[e.createElementVNode("ul",{class:"uk-nav uk-dropdown-nav"},[e.createElementVNode("li",null,[e.createElementVNode("a",{href:"#"},"Edit Group")]),e.createElementVNode("li",null,[e.createElementVNode("a",{href:"#"},"Delete Group")])])],-1))]),_:1})]),_:1})]),_:1})],64)}}});exports.default=T;
